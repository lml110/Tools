/*! For license information please see wechat.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("wechat",[],t):"object"==typeof exports?exports.wechat=t():e.wechat=t()}(self,(function(){return(()=>{"use strict";var e={115:(e,t,n)=>{n.d(t,{default:()=>m});var r=n(129),o=n.n(r);let i=null,a={};const c={},l=["","application/json;charset=utf-8","application/x-www-form-urlencoded;charset=UTF-8","multipart/form-data","text/xml"],s=function(e={},t){return t?((e={},t={})=>{let n=new FormData;for(let t in e)e.hasOwnProperty(t)&&n.append(t,e[t]);for(let e in t)if(t.hasOwnProperty(e)&&t[e]&&t[e].length){let r=t[e];for(let t=0,o=r.length;t<o;t++)n.append(e,r[t])}return n})(e,t):e},u=function(e){return a[e]||e},f=function(e,t,n="get",r={},a){return r||(r={}),new Promise(((f,p)=>{const{hasSessionId:d,fileData:g,isFormData:h,isNoString:m,contentTypeNum:y,timeout:b,isCancel:w}=r,v={url:u(e),method:n,headers:{},cancelToken:w?(x=e,new axios.CancelToken((e=>{c[x]=e}))):null};var x;return t&&("post"===n?g?(v.data=s(t,g),r.progress&&(v.onUploadProgress=r.progress)):v.data=h?s(t,{}):m?t:o().stringify(t):v.params=t),y&&(v.headers["Content-Type"]=l[y]),a&&(v=Object.assign(v,a)),i&&i(v).then((t=>{w&&delete c[e],200===t.code&&t.success?f(t.data||t.success):p(t)})).catch((t=>{w&&delete c[e],p(t)}))}))},p={setInit:function(e,t){i=e,a=t},fetch:i,APIURL:a,$getRequestUrl:u,$clearCancleApi:function(){for(let e in c)c[e](),delete c[e]},$request:f,$post:function(e,t,n,r){return f(e,t,"post",n,r)},$get:function(e,t,n,r){return f(e,t,"get",n,r)}};var d=n(7539);function g(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))}function h(e,t){let n=e.style[g(t)];if(!n)if(d.Z.defaultView&&d.Z.defaultView.getComputedStyle){let r=d.Z.defaultView.getComputedStyle(e,null);n=r?r.getPropertyValue(t):null}else e.currentStyle&&(n=e.currentStyle[g(t)]);return n.replace(/px$/,"")}const m={API:p,directives:{ellipsis:{inserted(e,t,n){let r=t.arg||2,o=h(e,"line-Height")*r,i=e.firstChild,a=h(e,"height")>o;if(i){if(a&&t.modifiers.is)for(;e.offsetHeight>o;)i.innerHTML=i.innerHTML.replace(/.(\.\.\.)?$/,"...");return t.value&&t.value(a,e)}}}}}},7539:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(4899).Z.document||{}},4899:(e,t,n)=>{n.d(t,{Z:()=>a});const r="object"==typeof n.g&&null!==n.g&&n.g.Object===Object&&n.g,o="object"==typeof globalThis&&null!==globalThis&&globalThis.Object==Object&&globalThis,i="object"==typeof self&&null!==self&&self.Object===Object&&self,a=o||r||i||Function("return this")()},5798:e=>{var t=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},129:(e,t,n)=>{var r=n(8261),o=n(5235),i=n(5798);e.exports={formats:i,parse:o,stringify:r}},5235:(e,t,n)=>{var r=n(2769),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(r),c=a?r.slice(0,a.index):r,l=[];if(c){if(!n.plainObjects&&o.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}for(var s=0;null!==(a=i.exec(r))&&s<n.depth;){if(s+=1,!n.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+r.slice(a.index)+"]"),function(e,t,n){for(var r=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a&&n.parseArrays)i=[].concat(r);else{i=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(c,10);n.parseArrays||""!==c?!isNaN(l)&&a!==c&&String(l)===c&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(i=[])[l]=r:i[c]=r:i={0:r}}r=i}return r}(l,t,n)}};e.exports=function(e,t){var n=function(e){if(!e)return i;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?i.charset:e.charset;return{allowDots:void 0===e.allowDots?i.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:i.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:i.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:i.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:i.comma,decoder:"function"==typeof e.decoder?e.decoder:i.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:i.delimiter,depth:"number"==typeof e.depth?e.depth:i.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:i.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:i.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var l="string"==typeof e?function(e,t){var n,c={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,u=l.split(t.delimiter,s),f=-1,p=t.charset;if(t.charsetSentinel)for(n=0;n<u.length;++n)0===u[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[n]?p="utf-8":"utf8=%26%2310003%3B"===u[n]&&(p="iso-8859-1"),f=n,n=u.length);for(n=0;n<u.length;++n)if(n!==f){var d,g,h=u[n],m=h.indexOf("]="),y=-1===m?h.indexOf("="):m+1;-1===y?(d=t.decoder(h,i.decoder,p),g=t.strictNullHandling?null:""):(d=t.decoder(h.slice(0,y),i.decoder,p),g=t.decoder(h.slice(y+1),i.decoder,p)),g&&t.interpretNumericEntities&&"iso-8859-1"===p&&(g=a(g)),g&&t.comma&&g.indexOf(",")>-1&&(g=g.split(",")),o.call(c,d)?c[d]=r.combine(c[d],g):c[d]=g}return c}(e,n):e,s=n.plainObjects?Object.create(null):{},u=Object.keys(l),f=0;f<u.length;++f){var p=u[f],d=c(p,l[p],n);s=r.merge(s,d,n)}return r.compact(s)}},8261:(e,t,n)=>{var r=n(2769),o=n(5798),i=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,l=Array.prototype.push,s=function(e,t){l.apply(e,c(t)?t:[t])},u=Date.prototype.toISOString,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,formatter:o.formatters[o.default],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},p=function e(t,n,o,i,a,l,u,p,d,g,h,m,y){var b=t;if("function"==typeof u?b=u(n,b):b instanceof Date?b=g(b):"comma"===o&&c(b)&&(b=b.join(",")),null===b){if(i)return l&&!m?l(n,f.encoder,y):n;b=""}if("string"==typeof b||"number"==typeof b||"boolean"==typeof b||r.isBuffer(b))return l?[h(m?n:l(n,f.encoder,y))+"="+h(l(b,f.encoder,y))]:[h(n)+"="+h(String(b))];var w,v=[];if(void 0===b)return v;if(c(u))w=u;else{var x=Object.keys(b);w=p?x.sort(p):x}for(var S=0;S<w.length;++S){var j=w[S];a&&null===b[j]||(c(b)?s(v,e(b[j],"function"==typeof o?o(n,j):n,o,i,a,l,u,p,d,g,h,m,y)):s(v,e(b[j],n+(d?"."+j:"["+j+"]"),o,i,a,l,u,p,d,g,h,m,y)))}return v};e.exports=function(e,t){var n,r=e,l=function(e){if(!e)return f;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!i.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=o.formatters[n],a=f.filter;return("function"==typeof e.filter||c(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===e.allowDots?f.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:a,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);"function"==typeof l.filter?r=(0,l.filter)("",r):c(l.filter)&&(n=l.filter);var u,d=[];if("object"!=typeof r||null===r)return"";u=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var g=a[u];n||(n=Object.keys(r)),l.sort&&n.sort(l.sort);for(var h=0;h<n.length;++h){var m=n[h];l.skipNulls&&null===r[m]||s(d,p(r[m],m,g,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.formatter,l.encodeValuesOnly,l.charset))}var y=d.join(l.delimiter),b=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),y.length>0?b+y:""}},2769:e=>{var t=Object.prototype.hasOwnProperty,n=Array.isArray,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],o=0;o<t.length;++o)for(var i=t[o],a=i.obj[i.prop],c=Object.keys(a),l=0;l<c.length;++l){var s=c[l],u=a[s];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:a,prop:s}),r.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(n(r)){for(var o=[],i=0;i<r.length;++i)void 0!==r[i]&&o.push(r[i]);t.obj[t.prop]=o}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n){if(0===e.length)return e;var o="string"==typeof e?e:String(e);if("iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var i="",a=0;a<o.length;++a){var c=o.charCodeAt(a);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?i+=o.charAt(a):c<128?i+=r[c]:c<2048?i+=r[192|c>>6]+r[128|63&c]:c<55296||c>=57344?i+=r[224|c>>12]+r[128|c>>6&63]+r[128|63&c]:(a+=1,c=65536+((1023&c)<<10|1023&o.charCodeAt(a)),i+=r[240|c>>18]+r[128|c>>12&63]+r[128|c>>6&63]+r[128|63&c])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(r,i,a){if(!i)return r;if("object"!=typeof i){if(n(r))r.push(i);else{if(!r||"object"!=typeof r)return[r,i];(a&&(a.plainObjects||a.allowPrototypes)||!t.call(Object.prototype,i))&&(r[i]=!0)}return r}if(!r||"object"!=typeof r)return[r].concat(i);var c=r;return n(r)&&!n(i)&&(c=o(r,a)),n(r)&&n(i)?(i.forEach((function(n,o){if(t.call(r,o)){var i=r[o];i&&"object"==typeof i&&n&&"object"==typeof n?r[o]=e(i,n,a):r.push(n)}else r[o]=n})),r):Object.keys(i).reduce((function(n,r){var o=i[r];return t.call(n,r)?n[r]=e(n[r],o,a):n[r]=o,n}),c)}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{n.d(r,{default:()=>b});var e=n(115),t=n(4899),o=n(7539);const i=t.Z.navigator||{},a=new class{constructor(e){this.versions=this.getVersions(),this.language=this.getLanguage()}getVersions(){let e=i.userAgent,t=e.toLowerCase();return i.appVersion,{trident:e.includes("Trident"),presto:e.includes("Presto"),webKit:e.includes("AppleWebKit"),gecko:e.includes("Gecko")&&!e.includes("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.includes("Android")||e.includes("Linux"),iPhone:e.includes("iPhone"),iPad:e.includes("iPad"),webApp:!e.includes("Safari"),isWechat:"micromessenger"==t.match(/MicroMessenger/i),weibo:"weibo"==t.match(/WeiBo/i),qq:"qq"==t.match(/QQ/i)}}getLanguage(){let e=i.browserLanguage||i.language;return e&&e.toLowerCase()}getIosVersion(){let e=i.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);return e?e[1].replace(/_/g,"."):""}getWechatVersion(){let e=i.userAgent&&i.userAgent.match(/MicroMessenger\/([\d\.]+)/i);return e?e[1]:""}},c=a.versions,l=c.isWechat,s=t.Z.wx&&l,u=function(e){if(s&&wx.ready)return wx.ready(e)},f=function(e,t){if(!s)return!1;wx.config({appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:t||["chooseImage","getLocalImgData","previewImage","scanQRCode","getNetworkType","updateAppMessageShareData","updateTimelineShareData","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","hideAllNonBaseMenuItem"]})},p=function(e){s&&t.Z.WeixinJSBridge&&("object"==typeof WeixinJSBridge&&"function"==typeof WeixinJSBridge.invoke?e&&e():o.Z.addEventListener?o.Z.addEventListener("WeixinJSBridgeReady",e,!1):o.Z.attachEvent&&(o.Z.attachEvent("WeixinJSBridgeReady",e),o.Z.attachEvent("onWeixinJSBridgeReady",e)))},d=function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:.625}),WeixinJSBridge.on("menu:setfont",(function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:.625})}))},g=function(){return p(d)},h=function(e,t){g(),e&&f(...e),u((function(){return t&&t()})),wx.error((function(e){console.log("js-sdk ��ʼ��ʧ��",e)}))},m=t.Z.location||{},y=function(e){return new Promise(((t,n)=>{wx.checkJsApi({jsApiList:e||[],success:function(n){console.log("checkJsApi",e,n),t(n)},fail:function(e){n(e)}})}))},b=Object.assign(e.default,{FastClick_bug:function(){if(!t.Z.FastClick)return!1;let e,n;if(FastClick.prototype.focus=function(e){let t,n=navigator.userAgent.indexOf("Windows Phone")>=0;/iP(ad|hone|od)/.test(navigator.userAgent)&&!n&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type&&"email"!==e.type?(t=e.value.length,e.setSelectionRange(t,t),e.focus()):e.focus()},!versions.ios)return!1;o.Z.body.addEventListener("focusin",(()=>{e=!0,clearTimeout(n)})),o.Z.body.addEventListener("focusout",(()=>{if(e=!1,e)return!1;n=setTimeout((()=>{let e=t.Z.pageYOffset||o.Z.documentElement.scrollTop||o.Z.body.scrollTop||0;t.Z.scrollTo({top:e,left:0,behavior:"smooth"})}),100)}))},setDocumentTitle:function(e,t){if(!e||o.Z.title===e)return!1;if(o.Z.title=e,c.ios){let e=o.Z.createElement("iframe");e.src=t||"/favicon.ico",e.style.display="none",e.onload=function(){setTimeout((function(){e.remove()}),0)},o.Z.body.appendChild(e)}},isJweixin:s,initWX:function(e=[],n){return!!l&&(t.Z.wx?h(e,n):(r="https://res2.wx.qq.com/open/js/jweixin-1.6.0.js",new Promise(((e,t)=>{let n=o.Z.createElement("script");n.type="text/javascript",n.onload=n.onreadystatechange=function(){n.readyState?"loaded"==n.readyState||"complete"==n.readyState?(n.onreadystatechange=null,e(r)):t(n):e(r)},n.onerror=e=>t(e),n.src=r,o.Z.body.appendChild(n)}))).then(h.bind(this,e,n)));var r},wxPay:function(e,t){return new Promise(((n,r)=>t?WeixinJSBridge.invoke("getBrandWCPayRequest",e,(function(e){let t=e.err_msg?e.err_msg.split(":")[1]:"";"ok"===t?n(e):"cancel"===t?(console.log("取消支付！"),r(t)):(console.log("支付失败",e),r(e))})):(e.success=function(e){n(e)},e.fail=function(e){r(e)},wx.chooseWXPay(e))))},wxFontHandle:g,wxReady:u,wxBridgeReady:p,wxConfig:f,wxShare:function(e,t){return s?Promise.reject():new Promise(((n,r)=>{if(!e||function(e){for(let t in e)return!1;return!0}(e)||!e.title)return e.hideShare?wx.hideAllNonBaseMenuItem():wx.hideOptionMenu(),r(),!1;const{title:o,desc:i,link:c}=e;let l=e.imgUrl||e.imageUrl,s=a.getWechatVersion(),u=function(e,t){e=e.split("."),t=t.split(".");let n=Math.max(e.length,t.length);for(;e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(let r=0;r<n;r++){let n=+e[r],o=+t[r];if(n>o)return 1;if(n<o)return-1}return 0}(s,"6.7.2");1==u&&wx.updateAppMessageShareData?(wx.updateAppMessageShareData({title:o,desc:i,link:c,imgUrl:l,trigger:function(e){console.log("朋友及QQ-trigger")},success:function(e){console.log("分享给朋友及QQ"),t&&t.updateAppMessage&&t.updateAppMessage(e),n(e)},cancel:function(e){console.log("取消分享给朋友及QQ")},fail:function(e){console.log("分享给朋友及QQ失败"),r()}}),wx.updateTimelineShareData({title:o,link:c,imgUrl:l,trigger:function(e){console.log("分享到朋友圈及QQ空间-trigger")},success:function(e){console.log("分享到朋友圈及QQ空间"),t&&t.updateTimeline&&t.updateTimeline(e),n(e)},cancel:function(e){console.log("取消分享到朋友圈及QQ空间")},fail:function(e){console.log("分享到朋友圈及QQ空间失败"),r()}})):(console.log("微信版本过低，版本小于6.7.2，请尽快升级",s,u),wx.onMenuShareTimeline({title:o,desc:i,link:c,imgUrl:l,trigger:function(e){console.log("trigger"),console.log(JSON.stringify(e))},success:function(e){console.log(" 分享朋友圈成功"),t&&t.updateTimeline&&t.updateTimeline(e),n(e)},cancel:function(e){console.log("取消分享朋友圈")},fail:function(e){console.log("分享朋友圈失败"),console.log(JSON.stringify(e)),r()}}),wx.onMenuShareAppMessage({title:o,desc:i,link:c,imgUrl:l,trigger:function(e){console.log("trigger"),console.log(JSON.stringify(e))},success:function(e){console.log("分享给朋友成功"),t&&t.updateAppMessage&&t.updateAppMessage(e),n(e)},cancel:function(e){console.log("取消分享朋友")},fail:function(e){console.log("分享朋友失败"),console.log(JSON.stringify(e)),r()}}),wx.onMenuShareQQ({title:o,desc:i,link:c,imgUrl:l,trigger:function(e){console.log("trigger"),console.log(JSON.stringify(e))},success:function(e){console.log("分享QQ成功"),t&&t.updateAppMessage&&t.updateAppMessage(e),n(e)},cancel:function(e){console.log("取消分享QQ")},fail:function(e){console.log("分享QQ失败"),console.log(JSON.stringify(e)),r()}}),wx.onMenuShareWeibo({title:o,desc:i,link:c,imgUrl:l,trigger:function(e){console.log("trigger"),console.log(JSON.stringify(e))},success:function(e){console.log("分享微博成功"),t&&t.onMenuShareWeibo&&t.onMenuShareWeibo(e),n(e)},cancel:function(e){console.log("取消分享微博")},fail:function(e){console.log("分享微博失败"),console.log(JSON.stringify(e)),r()}}))}))},wxAuthorize:function(e,t={}){let n=encodeURI(t.url||m.href),r=t.scope||"snsapi_userinfo",o=t.state||"STATE";m.replace(`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${e}&redirect_uri=${n}&response_type=code&scope=${r}&state=${o}#wechat_redirect`)},wxCheckJsApi:y,wxChooseImage:function(e={}){return new Promise(((t,n)=>{y(["chooseImage","getLocalImgData"]).then((r=>{wx.chooseImage({count:e.count||1,needResult:1,sizeType:e.sizeType||["compressed"],sourceType:e.sourceType||["album","camera"],success:function(e){t(e.localIds||e)},fail:function(){n(err)}})})).catch((e=>{n(e)}))}))},wxGetImgData:function(e){return new Promise(((n,r)=>{t.Z.__wxjs_is_wkwebview?wx.getLocalImgData({localId:e,sucess:function(e){n(e.localData||e)},fail:function(t){console.log("getLocalImgData",t),n(e)}}):n(e)}))}})})(),r.default})()}));