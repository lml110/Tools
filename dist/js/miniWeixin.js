/*! For license information please see miniWeixin.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("miniWeixin",[],e):"object"==typeof exports?exports.miniWeixin=e():t.miniWeixin=e()}(self,(function(){return function(){"use strict";var t={d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var e={};t.d(e,{default:function(){return ye}});var n={};t.r(n),t.d(n,{getAuthFailModal:function(){return Xt},getAuthInfoModal:function(){return Yt},getEnvVersion:function(){return Jt},setAuthFailModal:function(){return Qt},setAuthInfoModal:function(){return Ht},setInitConfig:function(){return Kt},setRem:function(){return te}});var r=function(t,e){return e?t.replace(/(.*\/)*([^.])/gi,"$2").toLowerCase():t.replace(/.+\./,"").toLowerCase()},o={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object","[object Promise]":"promise","[object Map]":"map","[object Set]":"set","[object Map Iterator]":"map-iterator","[[object Symbol]]":"symbol","[object Module]":"module"};function i(t){var e=Object.prototype.toString.call(t);return o[e]||e.replaceAll(new RegExp(/\[|\]|object /g),"")}var a,u,c,f,l=[Date,RegExp,Set,WeakSet,Map,WeakMap,Error],s=(a=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new WeakSet,r=null,o=i(e);if(l.includes(e&&e.constructor))r=new e.constructor(e);else if("array"===o){r=[];for(var a=0;a<e.length;a++)r[a]=t(e[a],n)}else if("object"===o){if(r={},n.has(e))return r;for(var u in n.add(e),e)Object.hasOwnProperty.call(e,u)&&(r[u]=t(e[u],n))}else r=e;return r},c=!1,f=[],function(){if(f.push(arguments),!c){for(c=!0;f.length;)u=a.apply(this,f.shift());return c=!1,u}}),p=s;function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}var h="object"===(void 0===t.g?"undefined":g(t.g))&&null!==t.g&&t.g.Object===Object&&t.g,d="object"===("undefined"==typeof globalThis?"undefined":g(globalThis))&&null!==globalThis&&globalThis.Object==Object&&globalThis,y="object"===("undefined"==typeof self?"undefined":g(self))&&null!==self&&self.Object===Object&&self,v=d||h||y||Function("return this")(),b=function(t){try{return JSON.parse(t)}catch(e){return t}};function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}var w=function(t){return t&&v.JSON?JSON.stringify(t,(e=new WeakSet,function(t,n){if("object"===m(n)&&null!==n){if(e.has(n))return;e.add(n)}return n})):"";var e},j=function(t){return"object"===i(t)},O=function(t,e,n){var r,o,i,a,u,c,f=0,l=!1,s=!1,p=!0,g=!e&&0!==e&&"function"==typeof v.requestAnimationFrame;if("function"!=typeof t)throw new TypeError("Expected a function");function h(e){var n=r,i=o;return r=o=void 0,f=e,a=t.apply(i,n)}function d(t,e){return g?(v.cancelAnimationFrame(u),v.requestAnimationFrame(t)):setTimeout(t,e)}function y(t){return f=t,u=d(m,e),l?h(t):a}function b(t){var n=t-c;return void 0===c||n>=e||n<0||s&&t-f>=i}function m(){var t=Date.now();if(b(t))return w(t);u=d(m,function(t){var n=t-f,r=e-(t-c);return s?Math.min(r,i-n):r}(t))}function w(t){return u=void 0,p&&r?h(t):(r=o=void 0,a)}function O(){for(var t=Date.now(),n=b(t),i=arguments.length,f=new Array(i),l=0;l<i;l++)f[l]=arguments[l];if(r=f,o=this,c=t,n){if(void 0===u)return y(c);if(s)return u=d(m,e),h(c)}return void 0===u&&(u=d(m,e)),a}return e=+e||0,j(n)&&(l=!!n.leading,i=(s="maxWait"in n)?Math.max(+n.maxWait||0,e):i,p="trailing"in n?!!n.trailing:p),O.cancel=function(){void 0!==u&&function(t){if(g)return v.cancelAnimationFrame(t);clearTimeout(t)}(u),f=0,r=c=o=u=void 0},O.flush=function(){return void 0===u?a:w(Date.now())},O.pending=function(){return void 0!==u},O};function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}var x,P,A,I=function(t){return t&&"object"===S(t)&&t.get?t:{get:function(){return t}}},E=function(t){return"number"===i(t)?t:+t},M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*(t-e+1)+e)},_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.prototype.toFixed.call(E(t),e)},T=function(t,e){return E(_(t,e))},D=function(t){return["array","object"].includes(i(t))?w(t):""+t},k=function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).log.apply(t,["[lml]"].concat(n))},R=function(t){var e=i(t);return"date"===e?t:t?"string"===e&&t.includes("-")?new Date(t.replace(/-/g,"/")):new Date(t):new Date},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-DD hh:mm:ss",n={"M+":(t=R(t)).getMonth()+1,"D+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)n.hasOwnProperty(r)&&new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e},L=function(t,e,n){for(var r=-1,o=t.length;++r<o;)e.call(n,t[r],r,"array")},F=function(t){var e="";return L(t,(function(t){e+=" "+D(t)})),e},$=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=F(e);return console.log("%c[".concat(C(new Date,"hh:mm:ss"),"]:").concat(r),"color:red")},N=function(t,e,n){var r=t;return"function"===i(e)?r=t.filter(e):"string"===i(e)&&(r=t.filter((function(t){return t[e]}))),n&&(r=r.map((function(t){return t[n]}))),r};function q(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.childKey,a=void 0===o?"children":o,u=r.sucessFn,c=void 0===u?function(t){return this.push(t)}:u,f=[];return"array"===i(t)&&(f=t.reduce((function(t,r,o,i){if(e(r))c.call(t,r);else{var u=N(i,(function(t,e){return n(t,r)}));u&&1==u.length?u[0][a]?c.call(u[0][a],r):u[0][a]=[r]:c.call(t,r)}return t}),[])),f}var U,z,B=function t(e,n){for(var r=[],o=0;o<e.length;o++){var i=e[o],a=x(i,n);if(a&&r.push(a),P){var u=P(i,n);if(u&&i[u]){var c=t(i[u],i);A&&(r=A(r,c)||r)}}}return r},V=function t(e,n){for(var r,o=0;o<e.length;o++){var i=e[o];if(U(i,n))return i;if(z){var a=z(i);a&&(r=t(a,i))}if(r)return r}return r};function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function J(t,e){if(e&&("object"===W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function K(t){var e="function"==typeof Map?new Map:void 0;return K=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return G(t,arguments,Z(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Y(r,t)},K(t)}function G(t,e,n){return G=H()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Y(o,n.prototype),o},G.apply(null,arguments)}function H(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Y(t,e)}function Z(t){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Z(t)}var Q=".",X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(i,t);var e,n,r,o=(e=i,n=H(),function(){var t,r=Z(e);if(n){var o=Z(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return J(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).name="ObjectPrototypeMutationError",e}return r=i,Object.defineProperty(r,"prototype",{writable:!1}),r}(K(Error)),tt={set:function(t,e,n){if("object"!=W(t)||null===t||!e)return t;if("number"==typeof e)return t[e]=n,t[e];try{return et(t,e,(function(t,e,r,o){if(t===Reflect.getPrototypeOf({}))throw new X("Attempting to mutate Object.prototype");if(!t[e]){var i=Number.isInteger(Number(r[o+1])),a="+"===r[o+1];t[e]=i||a?[]:{}}return nt(r,o)&&(t[e]=n),t[e]}))}catch(e){if(e instanceof X)throw e;return t}},get:function(t,e){return e?et(t,e,(function(t,e){return t&&t[e]})):t},has:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!=W(t)||null===t||!e)return!1;if("number"==typeof e)return e in t;try{var r=!1;return et(t,e,(function(t,e,o,i){if(!nt(o,i))return t&&t[e];r=n.own?t.hasOwnProperty(e):e in t})),r}catch(t){return!1}},hasOwn:function(t,e,n){return this.has(t,e,n||{own:!0})},isIn:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("object"!=W(t)||null===t||!e)return!1;try{var o=!1,i=!1;return et(t,e,(function(t,e,r,a){return o=o||t===n||!!t&&t[e]===n,i=nt(r,a)&&"object"===W(t)&&e in t,t&&t[e]})),r.validPath?o&&i:o}catch(t){return!1}},ObjectPrototypeMutationError:X};function et(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=e.split(Q),o=r.length,i=function(e){var o=r[e];if(!t)return{v:void 0};if("+"===o){if(Array.isArray(t))return{v:t.map((function(o,i){var a=r.slice(e+1);return a.length>0?et(o,a.join(Q),n):n(t,i,r,e)}))};t=n(t,o,r,e)}else t=n(t,o,r,e)},a=0;a<o;a++){var u=i(a);if("object"===W(u))return u.v}return t}function nt(t,e){return t.length===e+1}var rt=tt,ot=function(t){var e=i(t);return"string"===e?t:["array","number"].includes(e)?""+t:""},it=function(t,e){var n=Math.pow(10,e||2);return Math.round(t*n)/n},at=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e||e<0)return str;var n="",r=t<0,o=String(Math.abs(t));return o.length<e&&(n=new Array(e-o.length+1).join("0")),(r?"-":"")+n+o},ut=function(t){return void 0===t},ct=function(t){return!t&&0!==t},ft=function(t,e){return rt.get(t,e)},lt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["SUN","MON","TUE","WED","THU","FRI","SAT"],n=(t=R(t)).getFullYear(),r=t.getMonth()+1,o=t.getDate(),i=t.getHours(),a=t.getMinutes(),u=t.getSeconds(),c={year:n,month:r,day:o,hour:i,minute:a,second:u};for(var f in c)c.hasOwnProperty(f)&&(c[f]=at(c[f]));return c.week_key=t.getDay(),c.week=e[c.week_key],c},st=v.location||{},pt=function(t,e,n){for(var r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,"object")},gt=function(t,e,n){if(e)return"array"===i(t)?L(t,e,n):"object"===i(t)?pt(t,e,n):void 0},ht=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[void 0,null],r=[];return gt(t,(function(t,e){if(n&&n.includes(t))return!1;var o="string"===i(t)?t:JSON.stringify(t);r.push(e+"="+o)})),"string"===i(e)?r.length?e+r.join("&"):"":r},dt=function(t){return t?t.replace(/([^\u0000-\u00FF])/g,(function(t){return encodeURIComponent(t)})):t},yt=function(t){return t?decodeURIComponent(t):t};function vt(t){return function(t){if(Array.isArray(t))return bt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mt=["B","KB","MB","GB","TB"];function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ot={_deepCopy:p,_cloneObj:function(t){return b(w(t))},getFormData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new FormData;for(var r in t)t.hasOwnProperty(r)&&n.append(r,t[r]);for(var o in e)if(e.hasOwnProperty(o)&&e[o]&&e[o].length)for(var i=e[o],a=0,u=i.length;a<u;a++)n.append(o,i[a]);return n},typeOf:i,debounce:O,throttle:function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return j(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),O(t,e,{leading:r,trailing:o,maxWait:e})},definePros:function(t,e,n){return n?Object.defineProperty(t,n,I(e)):e&&"object"===S(e)?Object.defineProperties(t,function(t){var e={};for(var n in t)e[n]=I(t[n]);return e}(e)):t},_keyid:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t+Number(Math.random().toString().substr(3,8)+Date.now()).toString(36)},_seedId:function(t){var e="0";if(t)for(var n=0;n<t;n++)e+=M();return E(e)},_toNumber:E,_toNumFixed:T,_toString:D,_toJson:b,formatJsonStr:function(t,e){return t?e?t.split(e):"string"===typeOf(t)?b(t):"array"===typeOf(t)&&t:[]},trace:k,warning:$,getChinese:function(t){return(t=ot(t)).match(/[\u4e00-\u9fa5]/g).join("")},babelToFileName:function(t,e){return e?t.replace(/[A-Z]/g,(function(t,e){return e?"-"+t.toLowerCase():t.toLowerCase()})):t.replace(/\-\b(\w)|\-\s(\w)/g,(function(t,e){return e.toUpperCase()}))},getFileName:function(t,e){if(!t)return"";var n=/(.*\/)*([^.].*)[.](.*)/;return e?t.match(n).slice(-2):t.replace(n,"$2")},getFileExtName:r,_float:it,numberPad:at,numberComma:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return(t=String(t).split("."))[0]=t[0].replace(new RegExp("(\\d)(?=(\\d{"+e+"})+$)","ig"),"$1,"),t.join(".")},numberRandom:M,numberClamp:function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=E(n))==n?n:0),void 0!==e&&(e=(e=E(e))==e?e:0),function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}(E(t),e,n)},afreshSetTree:q,arrayToTree:function(t,e,n){if(e=Object.assign({parentProperty:"parentId",childrenProperty:"children",customID:"id",rootID:0},e),!Array.isArray(t))throw new TypeError("Expected an array but got an invalid argument");return q(t,(function(t){return t[e.parentProperty]==e.rootID}),(function(t,n){return t[e.customID]==n[e.parentProperty]}),{sucessFn:n,childKey:e.childrenProperty})},filterList:function(t,e,n,r){if("array"!==i(t)||"function"!==i(e))return!1;if(x=e,n){var o=i(n);P="function"===o?n:"string"===o&&function(t){return n},A=r}return B(t)},findTarget:function(t,e,n){if("array"!==i(t)||"function"!==i(e))return!1;if(U=e,n){var r=i(n);z="function"===r?n:"string"===r&&function(t){return t[n]}}return V(t)},nestedProperty:rt,isChinese:function(t){return/^[\u4e00-\u9fa5]{0,}$/.test(t)},isEmptyObject:function(t){for(var e in t)return!1;return!0},isUndefined:ut,isObject:j,isNulls:function(t){return!t||0==t},_noValue:ct,checkEmail:function(t){return/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(t)},checkPhone:function(t){return!!/^1\d{10}$/.test(t)},hasObjKey:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return rt.has(t,e,{own:n})},getObjVal:ft,_formatDate:C,_getAllDate:lt,getEndDateToMonth:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t)return!1;t=R(t);var r=lt(t),o=lt(t.setMonth(+r.month+e,0)),i=r.day>o.day?o.day:r.day;return+new Date(o.year,o.month-1,i,o.hour,o.minute,o.second)-1e3*n},formatDurationToFriendly:function(t){return t<60?t+"秒":t<3600?(t-t%60)/60+"分"+t%60+"秒":t<86400?(t-t%3600)/60/60+"小时"+Math.round(t%3600/60)+"分":(t/60/60/24).toFixed(1)+"天"},getTimeStamp:function(t,e){if(t=R(t),"number"===i(e)){var n=t.getTimezoneOffset()/-60;return+t+36e5*(n-e)}return+t},setTimeStamp:function(t,e){if(t=R(t),"number"===i(e)){var n=t.getTimezoneOffset()/60;return+t+36e5*(n+e)}return t},_getAllParams:function(t){t=t||st.href;for(var e={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"params",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=e.parser[e.strictMode?"strict":"loose"].exec(t),r={},o=14;o--;)r[e.key[o]]=n[o]||"";return r[e.q.name]={},r[e.key[12]].replace(e.q.parser,(function(t,n,o){n&&(r[e.q.name][n]=o)})),r},_getParams:function(t,e){t||(t=st.href);var n={};if(e)return function(t,e){t||(t=st.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}(t,e);var r=/(\?)(?!.*\1)+[^#]*/.exec(t);return(r=r?r[0]:"").replace(/([^?&=]+)=([^?&=]*)/g,(function(t,e,r){var o=decodeURIComponent(e),i=decodeURIComponent(r);return i=String(i),n[o]=i,t})),n},_paramsToString:ht,_encode:dt,_decode:yt,getNameOrKey:N,mergeJson:function(t){for(var e=t?new Map:new Set,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r&&r.length>1&&L(r,(function(n){"array"==i(n)&&n.reduce((function(e,n){return t?n&&n[t]&&(e.has(n[t])?console.log("重名元素",n):e.set(n[t],n)):e.has(n)?console.log("重名元素",n):e.add(n),e}),e)})),t?Array.from(e.values()):Array.from(e)},isArrRepeat:function(t,e){if(1==e){var n={};for(var r in t){if(n[t[r]])return!0;n[t[r]]=!0}return!1}return new Set(t).size!=t.length},getPermutation:function t(e){if(1==e.length)return[e];for(var n=[],r=0;r<e.length;r++){var o=e[r],i=e.slice(0);i.splice(r,1);for(var a=t(i),u=0;u<a.length;u++)a[u].unshift(o);n=n.concat(a)}return n},getCombine:function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(1===n)return r.push.apply(r,vt(e.map((function(t){return[].concat(vt(o),[t])})))),r;for(var i=0;i<e.length-n+1;i++){var a=[].concat(vt(o),[e[i]]);t(e.slice(i+1),n-1,r,a)}return r},getRandomArrayElements:function(t,e){for(var n,r,o=t.slice(0),i=t.length,a=i-e;i-- >a;)n=o[r=Math.floor((i+1)*Math.random())],o[r]=o[i],o[i]=n;return o.slice(a)},getMaximin:function(t,e){return"min"===e?Math.min.apply(null,t):Math.max.apply(null,t)},_compareVersion:function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var r=0;r<n;r++){var o=+t[r],i=+e[r];if(o>i)return 1;if(o<i)return-1}return 0},_getStr:ot,Cutsubstr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||!e)return"";for(var r="",o=0;o<t.length&&e>0;o++)r+=t.substr(o,1),e-=n&&t.charCodeAt(o)>127?2:1;return r.length<t.length&&(r+="..."),r},strlen:function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r>=1&&r<=126||65376<=r&&r<=65439?e++:e+=2}return e},strlenUnit:function(t){for(var e=0;t>1024;)t/=1024,++e;return"".concat(T(t)).concat(mt[e])},_for:gt,_forObject:pt,_forEach:L,_filter:function(t,e,n){return e?"object"===typeOf(t)?function(t,e,n){var r={},o=typeOf(e);for(var i in t)t.hasOwnProperty(i)&&("function"===o&&e.call(n,t[i],i)||"array"===o&&e.includes(i))&&(r[i]=t[i]);return r}(t,e,n):"array"===typeOf(t)?Array.prototype.filter.call(t,e,n):void 0:t},_toFixed:_,_trim:function(t,e){return t=ot(t),e?t.replace(/\s/g,""):t.replace(/(^\s+)|(\s+$)/g,"")},_timeout:function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.app=e||{},this.times=null}var e,n;return e=t,(n=[{key:"start",value:function(t,e){if(!e)return!1;this.clear(),this.callback=t,this.times=v.setTimeout(this.callback,e)}},{key:"clear",value:function(){this.times&&(v.clearTimeout(this.times),this.times=null)}}])&&wt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),_interval:function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.app=e||{},this.times=null}var e,n;return e=t,(n=[{key:"start",value:function(t,e){if(!e)return!1;this.clear(),this.callback=t,this.times=v.setInterval(this.callback,e)}},{key:"clear",value:function(){this.times&&(v.clearInterval(this.times),this.times=null)}}])&&jt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),_stringify:w,installModuleClass:function(t,e,n){return Reflect.ownKeys(e).forEach((function(r,o,i){return n?n.includes(r)?t[r]=e[r].bind(t):null:"constructor"===r?null:t[r]=e[r].bind(t)}))}},St={raw:!0},xt=function(t){return St.raw?dt(t):t},Pt={get:function(t){return wx.getStorageSync(xt(t))},set:function(t,e){if(!t)return this.clear();ct(e)?wx.removeStorageSync(xt(t)):wx.setStorageSync(xt(t),e)},remove:function(t){wx.removeStorageSync(xt(t))},clear:function(t){t?this.remove(t):wx.clearStorageSync()},keys:function(){var t=this.info();return"array"===i(t.keys)&&t.keys.map((function(t){return e=t,St.raw?yt(e):e;var e}))||[]},info:function(){return wx.getStorageInfoSync()||{}}},At={noValue:ct,setStorage:function(t){Object.assign(St,t),function(t){throw new TypeError('"config" is read-only')}()},Locals:Pt,local:function(t,e){return t?ut(e)?Pt.get(t):void Pt.set(t,e):Pt.clear()}},It=function(t,e){return new Promise((function(n,r){return"object"===i(e)?(e.success=function(t){n(t)},e.fail=function(t){r(t)},t&&t(e)):t&&t(n,r)}))};function Et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(n),!0).forEach((function(e){_t(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return It(wx.request,Mt({url:t,data:e,method:n},r))},Dt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"加载中",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i(t);return"string"===n?(wx.showNavigationBarLoading(),wx.showLoading({title:t,mask:e})):(wx.hideNavigationBarLoading(),wx.hideLoading())},kt=wx.getRealtimeLogManager?wx.getRealtimeLogManager():null,Rt={info:function(){kt&&kt.info.apply(kt,arguments)},warn:function(){kt&&kt.warn.apply(kt,arguments)},error:function(){kt&&kt.error.apply(kt,arguments)},setMsg:function(t){kt&&kt.setFilterMsg&&"string"==typeof t&&kt.setFilterMsg(t)},addMsg:function(t){kt&&kt.addFilterMsg&&"string"==typeof t&&kt.addFilterMsg(t)}},Ct=Rt;function Lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $t=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Lt(this,t),this.options=e,this.$request=this.$request.bind(this),this.$get=this.$get.bind(this),this.$post=this.$post.bind(this),this.count=0,this.isLoading=e.isLoading||!1,this.showLoading=e.showLoading||Dt,this.hideLoading=e.hideLoading||Dt.bind(this,null),this.errAPI=function(t,n,r){return this.isLoading&&(this.count--,0===this.count&&this.hideLoading()),e.logManager&&(Ct.addMsg("APIERR"),Ct.warn("[APIERR]-apis",n),Ct.warn("[APIERR]-errDesc",t)),e.errAPI?e.errAPI(t,r):r(t)},this.sucessAPI=function(t,n){return this.isLoading&&(this.count--,0===this.count&&this.hideLoading()),e.sucessAPI?e.sucessAPI(t,n):n(t.data)},this.sucessCode=function(t){return e.sucessCode?e.sucessCode(t):200===t.code&&t.success}}var e,n;return e=t,n=[{key:"$request",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=this.options;return new Promise((function(u,c){a.getRequeData&&(n=a.getRequeData(n,r,i));var f={name:t,url:a.getApiUrl(t)||t,params:ht(n,""),other:ht({hasSessionId:r,method:o},"")};return e.isLoading&&(0===e.count&&e.showLoading(),e.count++),Tt(f.url,n,o,{header:i.header||{}}).then((function(t){var n=t.data;e.sucessCode(n)?e.sucessAPI(n,u):e.errAPI(n,f,c)})).catch((function(t){return e.errAPI(t,f,c)}))}))}},{key:"$get",value:function(t,e,n,r){return this.$request(t,e,n,"GET",r)}},{key:"$post",value:function(t,e,n,r){return this.$request(t,e,n,"POST",r)}}],n&&Ft(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Nt=$t,qt={appId:"",logId:"",envVersion:"",IS_RELEASE:!1,baseSize:37.5,domain:{},uploadImgUrl:"",keys:{},pages:{},imgs:{err:{banner:"https://media.winbaoxian.com/autoUpload/activity/imgError_09a1c604751934f.png"},share:{card:"https://media.winbaoxian.com/autoUpload/miniApp/19f06bc0-d821-4bc0-829d-88803586becf.png"},default:{no:"https://media.winbaoxian.com/autoUpload/common/fa683e55-7443-44ea-80f6-c30974915429.png",avatar:"https://media.winbaoxian.com/autoUpload/activity/Bitmap2x_254c9d847191a39.png"}},times:{refresh:700},projectInfo:{},pageId:""};function Ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(n),!0).forEach((function(e){Bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,o){return t?wx.showModal(zt(zt({title:e||"",content:t,confirmColor:"#508CEE"},n),{},{success:function(t){return t.confirm?r(t):t.cancel?o(t):void 0},fail:function(t){return o(t)}})):o()}))},Wt={userInfo:"用户信息",userLocation:"位置权限",record:"麦克风",werun:"微信运动步数",writePhotosAlbum:"相册权限",camera:"摄像头权限",userLocationBackground:"后台定位权限"},Jt=function(t){return t||("object"===i(__wxConfig)?__wxConfig.envVersion:"release")},Kt=function(){var t;qt.envVersion=Jt(),qt.IS_RELEASE="release"===qt.envVersion,t="https://third-api.wyins.net",qt.IS_RELEASE||(t="https://third-api.wyins.net.cn"),qt.domain.VUE_APP_UPLOAD_URL=t,qt.uploadImgUrl=t+"/oss/getAuthInfo"},Gt={beforeText:"请授权",showCancel:!1},Ht=function(t){"object"===i(t)&&(Gt=t)},Yt=function(t){if("function"===i(Gt.callback))return Gt.callback(t);var e=Gt.contentText||"".concat(Gt.beforeText).concat(Wt[t]);return Vt(e,"",Gt)},Zt={contentText:"取消授权，可能会使部分服务无法使用",confirmText:"重新授权",cancelText:"我知道了"},Qt=function(t){var e=i(t);"object"===e?Zt=t:"boolean"===e&&(Zt.callback=Yt)},Xt=function(t){if("function"===i(Zt.callback))return Zt.callback(t);var e=Zt.contentText||"".concat(Zt.beforeText).concat(Wt[t]);return Vt(e,"",Zt)};function te(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:750;t>e&&(t=e);var n=t/e;document.documentElement.style.fontSize=it(qt.baseSize*Math.min(n,2))+"px"}var ee=function(t){return new Promise((function(e,n){var r="scope."+t,o=function o(){return It(wx.openSetting,{}).then((function(i){t?i.authSetting[r]?e(i):Xt(t).then(o).catch(n):e(i)})).catch((function(t){$("wx.openSetting-err"),k(t),n(t)}))};if(t)return Yt(t).then(o).catch(n);o()}))},ne=function(t){return new Promise((function(e,n){var r="scope."+t,o=wx.authorize||wx.authorizeForMiniProgram;return It(o,{scope:r}).then(e).catch((function(r){return $("wx.authorize-err == ",r),ee(t).then(e).catch(n)}))}))},re=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){var o=t?"scope."+t:"";return It(wx.getSetting,e).then((function(t){return o?t.authSetting&&t.authSetting[o]?n(t):r(t):n(t)})).catch(r)}))};function oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ae={1:"redirectTo",2:"reLaunch",3:"switchTab"},ue="https:",ce=function(t){return"string"!==i(t)?Promise.reject(t):It(wx.getImageInfo,{src:t})},fe=function(t,e){return Promise.all(t.map(ce)).then((function(n){return L(n,(function(e,n){return e.path&&(t[n]=e.path)})),e&&e(t)}))},le={_promise:It,_request:Tt,wxOpenSetting:ee,wxGetSetting:re,wxAuthorize:function(t){return new Promise((function(e,n){return t?re(t).then(e).catch((function(r){return $("wx.getSetting-err == ",r),ne(t).then(e).catch(n)})):n()}))},_authorize:ne,wxTips:Vt,wxLoading:Dt,wxToast:function(t,e){return"string"===i(t)?wx.showToast(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(n),!0).forEach((function(e){ie(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({title:t,icon:"none",mask:!1},e)):wx.hideToast()},wxBarLoading:function(t){wx.hideNavigationBarLoading(),t&&wx.showNavigationBarLoading()},wxNavito:function(t,e,n){return n&&this&&this.submit&&this.submit(n),t?e?wx[ae[e]]({url:t}):wx.navigateTo({url:t}):wx.navigateBack()},wxSetBarTitle:function(t){if(t=yt(t||""))return It(wx.setNavigationBarTitle,{title:t})},reportAnalytics:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"request_error";return wx.reportAnalytics&&wx.reportAnalytics(a,{request_name:t,request_url:e,request_params:n,request_desc:r,request_message:o,request_other:i})},wxClipData:function(t){return It(wx.setClipboardData,{data:t})},wxSysInfo:function(){return wx.getSystemInfoSync()},uploadImage:function(t,e,n){return new Promise((function(o,i){return Tt(qt.uploadImgUrl,{fileDir:t}).then((function(t){var a=ft(t,"data.data"),u=[],c=e.length;if(!a.dir)return $("uploadImage未获取授权数据"),k("uploadImage== ",t),i(t);L(e,(function(t,e){var f=a.dir,l={key:f+=n?a.fileName+".png":r(t,!0),policy:a.policy,OSSAccessKeyId:a.accessid,signature:a.signature,success_action_status:200};It(wx.uploadFile,{url:ue+a.host,formData:l,filePath:t,name:"file"}).then((function(t){if(u.push(ue+a.cdnMediaHost+f),u.length>=c)return o(u)})).catch((function(t){return i(t),!1}))}))})).catch(i)}))},setRemoteImgInfo:function(t,e){var n=i(t);if("object"===n){var r=Object.keys(t),o=r.map((function(e){return t[e]}));return fe(o,(function(n){return L(r,(function(e,r){return t[e]=n[r]})),e&&e(t)}))}return"array"===n?fe(t,e):"string"===n?ce(t).then((function(t){return e(t.path)})):void 0}};function se(t){return function(t){if(Array.isArray(t))return pe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return pe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ge={config:qt,points:{entry:{pageId:"sqzjy"}}},he=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t?[].concat(se(e),["[".concat(t,"]")]):e},de=function(t){return[].concat(se(he(qt.envVersion,he(qt.logId))),se(t))};ge=Object.assign({},ge,n,At,le,Ot,{API:Nt,log:Ct,setLog:function(t){var e=Ct[t];if(e){qt.logId&&Ct.setMsg(qt.logId);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return e.apply(Ct,de(r))}},trace:function(){return qt.logId&&Ct.setMsg(qt.logId),Ct.info.apply(Ct,de(arguments)),Ot.trace.apply(Ot,de(arguments))},warning:function(){return qt.logId&&Ct.setMsg(qt.logId),Ct.error.apply(Ct,de(arguments)),Ot.warning.apply(Ot,de(arguments))}});var ye=ge;return e.default}()}));