<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"/><meta name="format-detection" content="telephone=no,address=no,email=no"><title>Tools</title><style>/* html{
        -ms-touch-action: none;
        touch-action: none;
    } */
    .circle{
        width: 30px;
        height: 30px;
        border-radius: 100%;
        background-color: red;
        -webkit-transform: translateY(y);
        -ms-transform: translateY(y);
        -o-transform: translateY(y);
        transform: translateY(y);
    }
    .h-label {
        display: block;
        width: 50px;
        height: 16px;
        line-height: 1;
        display:-webkit-box;
        -webkit-box-pack:center;
        -webkit-box-align:center;
        border-radius: 3px;
        border: 1px solid #4AE6FF;
        background: rgba(74,230,255,0.1);
        color: #4AE6FF;
        font-size: 14px;
        padding: 5px 10px;
    }
    html[theme="dark"] {
   --color: #FFF;
   --background: #333;
}</style></head><body><button id="lml1">缓存</button><div id="lml1-html"></div><div class="red">dsf</div><div class="circle"></div><div class="h-label">保险师</div><div style="height:3000px;"></div><script src="./js/tools.js"></script></body><script src="https://resj.outdoorclub.com.cn/jss/js/jquery-1.9.1/jquery-1.9.1.min.js"></script><script src="https://resj.outdoorclub.com.cn/jss/shopMall/vconsole.min.js"></script><script>// new VConsole();
(function() {
    'use strict';
    document.documentElement.setAttribute('theme', 'dark');
    // console.log(tools);
    var testStr = "\"dsad'''''\"asdsadf\"";

    //const DiscernReg = /([“])(.+[?^“])([”])/g;
    const DiscernReg = /(?<=[“]).*?(?=[”])/g;
    //const DiscernReg = /([“].*?[”])/g
    const getDiscernContent = function(str) {
        if (!str) return "";
        var aa = str.replace(DiscernReg, function($0, $1, $2, $3) {
            //console.log("魔尊11",$0,$1,$2,$3)
            return `<span class="fb">${$0}</span>`
        })

        // console.log("魔尊",str.match(DiscernReg),aa)
        $(".red").html(aa)
        let list = str.split(DiscernReg);
        //console.log("魔尊",str.replace(DiscernReg,"$1"))
        let content = "",
            discs = "";

    };

    // getDiscernContent("如您无异议，请回答“同意”")
    // getDiscernContent(`请回答“清楚”/ “不清楚”`)
    // console.log("tools",tools);
    if (tools) {
        const { imageToBlob, getImgeInfo, imageToCanvas, canvasToDataURL, _float, getImgSize, blobToCanvas, fileToDataURL, copyHandler } = tools


        $('#lml1').click(function(event) {
            copyHandler('魔尊').then(data => {
                console.log('then',data);
            }).catch((err)=>{
                console.log(err);
            });
        });
        const imgSrc = 'https://media.wyins.net/contract_online/1598867983_z1598867383100y.jpg'
        // imageToCanvas(imgSrc).then(canvas => {
        //     console.log('then',canvas);
        //     const type = 'image/jpeg'
        //     let base64 = canvas.toDataURL(type, 0.7)
        //     // console.log(base64);
        //     console.log(getImgSize(base64));
        // }).catch((err)=>{});
        imageToBlob(imgSrc).then(blob => {
            blobToCanvas(blob).then(canvas => {
                const type = 'image/jpeg'
                let base64 = canvas.toDataURL(type, 1)
                console.log(getImgSize(base64));
            }).catch((err)=>{});
        }).catch((err) => {});
    }
})();</script><script></script></html>